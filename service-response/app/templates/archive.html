{% extends "base.html" %}

{% block title %}Архив{% endblock %}

{% block content %}
<div class="mt-4 mb-4">
    <h1>Архив</h1>
    <p>Архив заказов и сборок</p>
</div>

<div class="row">
    <div class="col-md-6">
        <h2>Архивные заказы</h2>
        <table class="table table-hover">
            <thead class="thead-light">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Имя клиента</th>
                    <th scope="col">Тип устройства</th>
                    <th scope="col">Модель</th>
                    <th scope="col">Дата создания заказа</th>
                    <th scope="col">Дата завершения заказа</th>
                </tr>
            </thead>
            <tbody>
                {% for order in archived_orders %}
                <tr>
                    <td scope="row">{{ order.id }}</td>
                    <td>{{ order.client.name | safe }}</td>
                    <td>{{ order.device.type }}</td>
                    <td>{{ order.device.model }}</td>
                    <td>{{ order.creation_date }}</td>
                    <td>{{ order.completion_date }}</td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="5">Нет архивных заказов.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="col-md-6">
        <h2>Архивные сборки</h2>
        <table class="table table-hover">
            <thead class="thead-light">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Имя клиента</th>
                    <th scope="col">Комплектующие</th>
                    <th scope="col">Дата создания заказа</th>
                    <th scope="col">Дата завершения заказа</th>
                </tr>
            </thead>
            <tbody>
                {% for build in archived_builds %}
                <tr>
                    <td scope="row">{{ build.id }}</td>
                    <td>{{ build.client.name | safe }}</td>
                    <td>{{ build.components.replace(', ', '<br>' ) | safe }}</td>
                    <td>{{ build.creation_date }}</td>
                    <td>{{ build.completion_date }}</td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="4">Нет архивных сборок.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
